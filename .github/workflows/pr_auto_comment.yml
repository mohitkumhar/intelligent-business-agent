name: PR Automation

on:
  pull_request:
    types: [opened, reopened]

jobs:
  pr-bot:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Comment & Label Using Personal Account
        env:
          GH_TOKEN: ${{ secrets.MOHIT_GH_TOKEN }}
        run: |
          PR_NUMBER=${{ github.event.pull_request.number }}

          gh pr comment $PR_NUMBER \
            --body "
            ğŸ‰ Thanks for opening this PR!

            ğŸš€ I'll review it soon and attach the appropriate labels ğŸ·ï¸

            Meanwhile, please make sure:
            âœ… All tests are passing  
            âœ… Code is properly formatted  

            Thanks again!  
            Mohit Kumhar  
            Maintainer
            "

          gh pr edit $PR_NUMBER \
            --add-label "needs-review" \
            --add-label "auto-generated"
